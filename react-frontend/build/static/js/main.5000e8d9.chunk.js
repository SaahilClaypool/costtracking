(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{70:function(t,e,a){t.exports=a(78)},75:function(t,e,a){},77:function(t,e,a){},78:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(47),c=a.n(o),i=(a(75),a(5)),l=a.n(i),u=a(48),s=a(2),f=a(15),m=(a(77),a(1)),d=200,h=20,p=40,v=100,y=!0,g=!0;function E(t,e){var a=m.i(".tooltip"),n=m.f().domain(m.d(t,(function(t){return t.day}))).range([0,400]),r=function(t){return n(t.day)},o=m.f().domain(m.d(t,(function(t){return y?t.totalCost:t.Cost}))).range([400,0]),c=function(t){return o(y?t.totalCost:t.Cost)},i=m.d(t,(function(t){return t.day})),l=Object(s.a)(i,2),u=l[0],f=l[1],d=m.d(t,(function(t){return t.Cost})),h=Object(s.a)(d,2),p=h[0],v=h[1],g=m.f().domain(m.d(t,(function(t){return t.Cost}))).range([4,10]),E=function(t){return g(t.Cost)},b=m.g(m.h),C=function(t){return t&&t.Personal?"77":"cc"},x=function(t){return"Sarah Bottari"===t.Who?"#0a304d"+C(t):"Saahil Claypool"===t.Who?"#c94818"+C(t):b(t.Who)+C(t)};x("Saahil Claypool"),x("Sarah Bottari");var w=m.i(e.current).select("g"),S=(w.selectAll("#xAxis").transition(500).call(m.a(n)),w.selectAll("#yAxis").transition(500).call(m.b(o)),w.selectAll("circle").data(t));console.log("drawing ".concat(t.length," points")),S.exit().transition().duration(500).attr("fill","#00000000").remove(),S.enter().append("circle").attr("fill",x).attr("cx",(function(){return n(m.e(u-f,2*f)())})).attr("cy",(function(){return o(m.e(p-v,2*v)())})).attr("r",1).attr("fill","#000000").on("mouseover",(function(t){a.transition().duration(200).style("opacity",.9),a.html("                <strong>".concat(t.Who,"</strong><span>").concat(t.Personal?"  (Personal)":"","</span>                <hr/>\n                <p>").concat(t.What?t.What:"Misc","</p>\n                ")).style("left",m.c.pageX+10+"px").style("top",m.c.pageY-65+"px")})).on("mouseout",(function(t){a.transition().duration(500).style("opacity",0)})).transition().duration(500).attr("cx",r).attr("cy",c).attr("r",E).attr("fill",x),S.transition().duration(500).attr("cx",r).attr("cy",c).attr("r",E).attr("fill",x)}function b(t){var e=t.filter((function(t){return!t.Personal||g}));if(y&&e){e.sort((function(t,e){return t.day>e.day}));var a={};e.forEach((function(t,n){t.Who in a||(a[t.Who]=0),a[t.Who]+=t.Cost,t.totalCost=a[t.Who],e[n]=t}))}return e}var C=function(t){var e=Object(n.useRef)(null);return y=t.isCummulative,g=t.isPersonal,Object(n.useEffect)((function(){!function(t,e){var a=m.f().domain(m.d(t,(function(t){return t.day}))).range([0,400]),n=m.f().domain(m.d(t,(function(t){return t.Cost}))).range([0,400]);if(m.i("body").append("div").attr("class","tooltip").style("opacity",0),t&&e.current){var r=m.i(e.current).append("g").attr("transform","translate(".concat(d,", ").concat(p,")"));r.selectAll("circle").data(t),r.append("g").attr("transform","translate(0,".concat(410,")")).attr("id","xAxis").call(m.a(a));r.append("text").attr("x",200).attr("y",450).style("text-anchor","middle").text("Day of Month");r.append("g").attr("transform","translate(-10,0)").attr("id","yAxis").call(m.b(n));r.append("text").attr("transform","rotate(-90)").attr("y",-80).attr("x",-200).attr("dy","1em").style("text-anchor","middle").text("Cost (USD)"),E(t,e)}}(b(t.data,t.month),e)}),[]),Object(n.useEffect)((function(){E(b(t.data,t.month),e)})),r.a.createElement("div",{className:"GraphView"},r.a.createElement("div",{id:"D3View"},r.a.createElement("svg",{id:"d3SVG",ref:e,width:400+d+h,height:400+v+p})),r.a.createElement("p",null,t.currentMonth))};function x(t){return"$".concat(t.toFixed(2))}var w={"Saahil Claypool":.6,"Sarah Bottari":.4};function S(t,e,a,n){return r.a.createElement("div",{className:"Message",key:t},r.a.createElement("strong",null,t)," has spent ",x(e),".",r.a.createElement("br",null),n>0?r.a.createElement("p",null,"They owe ",x(n)):r.a.createElement("span",null))}var W=function(t){var e=function(t){return t.reduce((function(t,e){return e.Who in t||(t[e.Who]=0),t[e.Who]+=e.Cost,t}),{})}(t.data.filter((function(t){return!t.Personal}))),a=[],n=0;for(var o in e){n+=e[o]}for(var c in e){var i=e[c],l=n*(c in w?w[c]:.5),u=l-i;a.push(S(c,i,0,u))}return r.a.createElement("div",{className:"InfoView"},a)},k=["January","February","March","April","May","June","July","August","September","October","November","December"];function O(){for(var t=["Saahil Claypool","Sarah Bottari"],e=["apples","cars","phones","groceries","computers","desk","chair"],a=[0,2e3],n=[1,12],r=[1,31],o=[],c=n[0];c<n[1];c++)for(var i=function(){var n="".concat(c,"/").concat(l,"/").concat(2020);t.forEach((function(t){if(Math.random()>.5){var r=(l=e)[Math.floor(Math.random()*l.length)],c=Math.random()>.5,i={Date:n,Cost:parseFloat((a[0]+Math.random()*(a[1]-a[0])).toFixed(2)),What:r,Who:t,Personal:c,Description:"".concat(t," bought ").concat(r," and it was ").concat(c?"personal":"shared")};o.push(i)}var l}))},l=r[0];l<r[1];l++)i();return o}function j(t,e){return t.filter((function(t){return parseInt(t.Date.split("/")[0])===e+1}))}var M=function(){var t=r.a.useState((new Date).getMonth()),e=Object(s.a)(t,2),a=e[0],o=e[1],c=r.a.useState([]),i=Object(s.a)(c,2),m=i[0],d=i[1],h=r.a.useState(!0),p=Object(s.a)(h,2),v=p[0],y=p[1],g=r.a.useState(!0),E=Object(s.a)(g,2),b=E[0],x=E[1],w=r.a.useState(!1),S=Object(s.a)(w,2),M=S[0],N=S[1],P=function(t){o((a+t+12)%12)},A=function(){var t=Object(f.a)(l.a.mark((function t(){var e,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=O(),(a=e.map((function(t){var e=t.Date.split("/");return Object(u.a)({},t,{month:parseInt(e[0]),day:parseInt(e[1]),year:parseInt(e[2])})}))).sort((function(t,e){var a=function(t){return t.day+100*t.month+1e3*t.year};return a(t)-a(e)})),d(a);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){A()}),[b]),r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Cost Savings"),r.a.createElement("div",{className:"Controls"},r.a.createElement("button",{className:"ToggleRandom",onClick:function(){return x(!b)}},"random data: ",b?"True":"False"),r.a.createElement("button",{className:"ToggleCummulative",onClick:function(){return y(!v)}},v?"Cummulative":"Single Purchases"),r.a.createElement("button",{className:"TogglePersonal",onClick:function(){return N(!M)}},"personal data: ",M?"True":"False"),r.a.createElement("div",{className:"Content"},r.a.createElement("div",{className:"Picker"},r.a.createElement("ul",{className:"MonthPicker"},r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return P(-1)}},"\u2190")),r.a.createElement("li",null,r.a.createElement("button",null,"\u2193")),r.a.createElement("li",null,r.a.createElement("button",{onClick:function(){return P(1)}},"\u2192")))),r.a.createElement("h2",null,k[a]),r.a.createElement(C,{month:a,data:j(m,a),isCummulative:v,isPersonal:M}),r.a.createElement(W,{data:j(m,a)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[70,1,2]]]);
//# sourceMappingURL=main.5000e8d9.chunk.js.map